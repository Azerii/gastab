<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>GASTAB || DETAIL</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1,maximum-scale=1">
        <link rel="stylesheet" href="../css/index.css" type="text/css" >
        <link rel="stylesheet" href="../css/dashboard.css">
        <link rel="stylesheet" href="../css/adddetail.css">
    </head>
    <body>
        <main class="container">
            <header class="header">
                <div class="head">
                    <div class="logo">
                        <img src="../images/gas 1.png" alt="" class="gastab-logo">
                    </div>
                </div>
                <div class="dash-right"><a href="#" class="dash-link">Go the main website</a></div>
            </header>
            <section class="steps first">
              <div class="header-link come">
                  <a href="./index.html" class="back-link">&#8592; &nbsp; &nbsp; Go back to the dashboard</a>
                  <a href="./login.html" style="display: none;" class="go-to-login"></a>
              </div>
              <div class="stepping">
                  <div class="step-one">
                      <div class="circle tick">
                          <img src="../images/mark.svg" alt="">
                      </div>
                      <div class="sug">
                          <p class="step-desc">Step 01</p>
                      </div>
                      <div>
                          <h2 class="step-title">Main Details</h2>
                      </div>
                  </div>
                  <div class="line green"></div>
                  <div class="step-one">
                      <div class="circle">
                          <p class="one white">2</p>
                          <div class="one-img red"></div>
                      </div>
                      <div class="sug">
                          <p class="step-desc">Step 02</p>
                      </div>
                      <div>
                          <h2 class="step-title">Other Details</h2>
                      </div>
                  </div>
                  <div class="line"></div>
                  <div class="step-one">
                      <div class="circle">
                          <p class="one">3</p>
                          <div class="one-img"></div>
                      </div>
                      <div class="sug">
                          <p class="step-desc">Step 01</p>
                      </div>
                      <div>
                          <h2 class="step-title">Images & Description</h2>
                      </div>
                  </div>
              </div>
              <form class="step-detail" onsubmit="handleSubmit(event, `otherDetails`)">
                  <h2 class="step-detail-title">Other Details</h2>
                  
                  <div class="truck">
                      <label class="truck-model" for="condition">Condition</label>
                      <select class="input-box" name="condition" id="condition">
                          <option value=""></option selected >
                          <option value="new">New</option>
                          <option value="used">Used</option>
                      </select>
                  </div>
                  <div class="truck">
                      <label class="truck-model center">Transmission</label>
                      <div class="transmission">
                          <div class="trans man">
                              <input id="manual" type="radio" name="transmission" value="manual" >
                              <label for="manual" class="trans-manual ">Manual</label>
                          </div>
                          <div class="trans auto">
                              <input id="automatic" type="radio" name="transmission" value="automatic" >
                              <label class="trans-manual" for="automatic">Automatic</label>
                          </div>
                      </div>
                  </div>
                  <div class="truck">
                      <label class="truck-model"  for="color">Truck Color</label>
                      <input id="color" name="color" type="text" placeholder="e.g Red" class="input-box">
                  </div>
                  <div class="truck">
                      <label class="truck-model"  for="current-state">Current State of the Truck</label>
                      <textarea id="current-state" name="currentState" type="text" placeholder="e.g Unpainted, Need body repair" class="input-box boxing"></textarea>
                  </div>
                  <div class="nav">
                      <a href="./edit_detail_step_3.html" style="display: none;" class="go-to-next"></a>
                      <a href="./edit_detail_step_1.html" class="back tick2">Back</a>
                      <button href="#" class="next tick3">Next</button>
                  </div>
                  
              </form>
          </section>

        </main>
        
        <script src="../js/addDetail.js" type="text/javascript" ></script>
        <!-- <script src="../js/app.js" async defer></script> -->
        <script>
          let vehicles;
          let previewItemId;
          let previewItemId__num;
          let index;
          let previewItem;

          if (localStorage.getItem("vehiclesList") && localStorage.getItem("previewItemId")) {
              vehicles = JSON.parse(localStorage.getItem("vehiclesList"));
              previewItemId = localStorage.getItem("previewItemId");
              previewItemId__num = Number(previewItemId);
              if (previewItemId__num != 0) {
                  index = previewItemId__num - 1;
              }

              previewItem = vehicles[index];
          }

          document.querySelector('select[name="condition"]').value = previewItem.condition;
          document.querySelector(`input[value=${previewItem.transmission}]`).checked = true;
          document.querySelector('input[name="color"]').value = previewItem.color;
          document.querySelector('textarea[name="currentState"]').value = previewItem.currentState;
          
        </script>
    </body>
</html>